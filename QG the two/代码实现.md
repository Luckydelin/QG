# 代码实现

## 关键代码

#### 非法输入的处理

​		不能直接用string类型作case判断，如第二章所示

 ![img](https://img-blog.csdnimg.cn/bf711c8e5f774934bf420a82950afdf5.png)![点击并拖拽以移动](data:image/gif;base64,R0lGODlhAQABAPABAP///wAAACH5BAEKAAAALAAAAAABAAEAAAICRAEAOw==) 

 ![img](https://img-blog.csdnimg.cn/72c5c5ec811344a9851f1b8aa54584eb.png?x-oss-process=image/watermark,type_d3F5LXplbmhlaQ,shadow_50,text_Q1NETiBARnJlYWs1ODc=,size_14,color_FFFFFF,t_70,g_se,x_16)![点击并拖拽以移动](data:image/gif;base64,R0lGODlhAQABAPABAP///wAAACH5BAEKAAAALAAAAAABAAEAAAICRAEAOw==) 

​		因为string和char类型的数字只能0到9，因此要将其转化为int,我们需要用到atoi()和c_str()函数，其中c_str（）函数在string头文件

``` c++
getline(cin, select);//利用getline函数吸收空格
		while (!TFInt(select))//判断是否为int型数字
		{
			cout << "请重新输入！" << endl;
			getline(cin, select);
		}

		int num = atoi(select.c_str());//将int型的字符串全化为数字，用c_str（）函数将string类型转化为const char* 型，再将其用atoi()函数由const char*类型转化为int型
```

##### 判断是否为int型数字的函数 

```c++
bool Menu::TFInt(string & str)
{
	for (int i = 0; i < str.length(); i++)
	{
		if (str[i] < '0' || str[i]>'9')
		{
			cout << "输入不为 int型 数字！";
			cout << "请重新输入！" << endl;
			return false;
		}
	}
	return true;
}
```

##### 实测效果

 ![img](https://img-blog.csdnimg.cn/c12d19134bc147c9b056cc6e599df1d2.png?x-oss-process=image/watermark,type_d3F5LXplbmhlaQ,shadow_50,text_Q1NETiBARnJlYWs1ODc=,size_17,color_FFFFFF,t_70,g_se,x_16)![点击并拖拽以移动](data:image/gif;base64,R0lGODlhAQABAPABAP///wAAACH5BAEKAAAALAAAAAABAAEAAAICRAEAOw==) 

 ![img](https://img-blog.csdnimg.cn/011f4d5be2f44e2abc0163085007ecf6.png?x-oss-process=image/watermark,type_d3F5LXplbmhlaQ,shadow_50,text_Q1NETiBARnJlYWs1ODc=,size_16,color_FFFFFF,t_70,g_se,x_16)![点击并拖拽以移动](data:image/gif;base64,R0lGODlhAQABAPABAP///wAAACH5BAEKAAAALAAAAAABAAEAAAICRAEAOw==) //

#### 计算器的问题存在

​		若计算10以下的数字那就什么都没问题，

 ![img](https://img-blog.csdnimg.cn/3ffaa31689e3409496b9c161203f86bf.png?x-oss-process=image/watermark,type_d3F5LXplbmhlaQ,shadow_50,text_Q1NETiBARnJlYWs1ODc=,size_18,color_FFFFFF,t_70,g_se,x_16)![点击并拖拽以移动](data:image/gif;base64,R0lGODlhAQABAPABAP///wAAACH5BAEKAAAALAAAAAABAAEAAAICRAEAOw==) 

​		但10及以上就不行，原因在于string和char转化为int类型的缺陷，string和char类型仅有0到9的数字

 ![img](https://img-blog.csdnimg.cn/90a987b57dad42f4aa92b19e4f34da18.png?x-oss-process=image/watermark,type_d3F5LXplbmhlaQ,shadow_50,text_Q1NETiBARnJlYWs1ODc=,size_20,color_FFFFFF,t_70,g_se,x_16)![点击并拖拽以移动](data:image/gif;base64,R0lGODlhAQABAPABAP///wAAACH5BAEKAAAALAAAAAABAAEAAAICRAEAOw==) 

#### 是否需要创建

​		计算器项目无需创建栈

 ![img](https://img-blog.csdnimg.cn/0062108142b34fc493fe4f0139f1d474.png?x-oss-process=image/watermark,type_d3F5LXplbmhlaQ,shadow_50,text_Q1NETiBARnJlYWs1ODc=,size_13,color_FFFFFF,t_70,g_se,x_16)![点击并拖拽以移动](data:image/gif;base64,R0lGODlhAQABAPABAP///wAAACH5BAEKAAAALAAAAAABAAEAAAICRAEAOw==) 

​		栈和队列的项目需要创建才能使用

 ![img](https://img-blog.csdnimg.cn/05472c06e92649efb0f958741a373f60.png?x-oss-process=image/watermark,type_d3F5LXplbmhlaQ,shadow_50,text_Q1NETiBARnJlYWs1ODc=,size_20,color_FFFFFF,t_70,g_se,x_16)![点击并拖拽以移动](data:image/gif;base64,R0lGODlhAQABAPABAP///wAAACH5BAEKAAAALAAAAAABAAEAAAICRAEAOw==) 

#### 项目分三个 分别为计算器，栈，队列

​		吸取前次教训和师兄的指导，简化了主函数，各种函数调用实现及非法输入检查放在menu类内，而栈类和队列类则封装栈和队列相关的函数。其次输入数据也在其调用函数内实现。

##### 计算器项目与栈，队列项目

​		计算器项目里面的栈比较少输入，而栈和队列中多互动消息和输入，区别可看代码部分，已标注注释

##### 泛型编程--因为运行才编译原因所有模板的实现和声明放在一个hpp文件里

